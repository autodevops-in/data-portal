<c-row class="g-4">
  <c-col sm="6" xl="3">
    <c-widget-stat-a
      color="primary"
      [title]="'Deployment Frequency'"
    >
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        {{deploymentFrequency?.value || 'Loading...'}}
        <span class="fw-normal" style="font-size: 12px;" *ngIf="deploymentFrequency?.trend !== undefined">
          ({{deploymentFrequency?.trend}}%
          <svg cIcon [name]="(deploymentFrequency?.trend || 0) > 0 ? 'cilArrowTop' : 'cilArrowBottom'" size="sm"></svg>)
        </span>
      </ng-template>
      <ng-template cTemplateId="widgetActionTemplate">
        <c-dropdown alignment="end" variant="btn-group">
          <button [caret]="false" cButton cDropdownToggle class="p-0 text-white" color="transparent" aria-label="Open dropdown">
            <svg cIcon name="cilOptions"></svg>
          </button>
          <ul cDropdownMenu>
            <li><a [routerLink]="[]" cDropdownItem>View Details</a></li>
            <li><a [routerLink]="[]" cDropdownItem>Export Data</a></li>
          </ul>
        </c-dropdown>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="data[0]" [options]="options[0]" class="mt-3 mx-3" height="70" [type]="'line'"></c-chart>
      </ng-template>
    </c-widget-stat-a>
  </c-col>
  <c-col sm="6" xl="3">
    <c-widget-stat-a
      [title]="'Lead Time'"
      color="info"
    >
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        <span>{{leadTime?.value || 'Loading...'}}</span>
        <span class="fw-normal" style="font-size: 12px;" *ngIf="leadTime?.trend !== undefined">
          ({{leadTime?.trend}}%
          <svg cIcon [name]="(leadTime?.trend || 0) < 0 ? 'cilArrowTop' : 'cilArrowBottom'" size="sm"></svg>)
        </span>
      </ng-template>
      <ng-template cTemplateId="widgetActionTemplate">
        <c-dropdown alignment="end" variant="btn-group">
          <button [caret]="false" cButton cDropdownToggle class="p-0 text-white" color="transparent" aria-label="Open dropdown">
            <svg cIcon name="cilOptions"></svg>
          </button>
          <ul cDropdownMenu>
            <li><a [routerLink]="[]" cDropdownItem>View Details</a></li>
            <li><a [routerLink]="[]" cDropdownItem>Export Data</a></li>
          </ul>
        </c-dropdown>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="data[1]" [options]="options[1]" class="mt-3 mx-3" height="70" type="line"></c-chart>
      </ng-template>
    </c-widget-stat-a>
  </c-col>
  <c-col sm="6" xl="3">
    <c-widget-stat-a
      [title]="'MTTR'"
      color="warning"
    >
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        <span>{{mttr?.value || 'Loading...'}}</span>
        <span class="fw-normal" style="font-size: 12px;" *ngIf="mttr?.trend !== undefined">
          ({{mttr?.trend}}%
          <svg cIcon [name]="(mttr?.trend || 0) < 0 ? 'cilArrowTop' : 'cilArrowBottom'" size="sm"></svg>)
        </span>
      </ng-template>
      <ng-template cTemplateId="widgetActionTemplate">
        <c-dropdown alignment="end" variant="btn-group">
          <button [caret]="false" cButton cDropdownToggle class="p-0 text-white" color="transparent" aria-label="Open dropdown">
            <svg cIcon name="cilOptions"></svg>
          </button>
          <ul cDropdownMenu>
            <li><a [routerLink]="[]" cDropdownItem>View Details</a></li>
            <li><a [routerLink]="[]" cDropdownItem>Export Data</a></li>
          </ul>
        </c-dropdown>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="data[2]" [options]="options[2]" class="mt-3" height="70" type="line"></c-chart>
      </ng-template>
    </c-widget-stat-a>
  </c-col>
  <c-col sm="6" xl="3">
    <c-widget-stat-a
      [title]="'Change Failure Rate'"
      color="danger"
    >
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        <span>{{changeFailureRate?.value || 'Loading...'}}</span>
        <span class="fw-normal" style="font-size: 12px;" *ngIf="changeFailureRate?.trend !== undefined">
          ({{changeFailureRate?.trend}}%
          <svg cIcon [name]="(changeFailureRate?.trend || 0) < 0 ? 'cilArrowTop' : 'cilArrowBottom'" size="sm"></svg>)
        </span>
      </ng-template>
      <ng-template cTemplateId="widgetActionTemplate">
        <c-dropdown alignment="end" variant="btn-group">
          <button [caret]="false" cButton cDropdownToggle class="p-0 text-white" color="transparent" aria-label="Open dropdown">
            <svg cIcon name="cilOptions"></svg>
          </button>
          <ul cDropdownMenu>
            <li><a [routerLink]="[]" cDropdownItem>View Details</a></li>
            <li><a [routerLink]="[]" cDropdownItem>Export Data</a></li>
          </ul>
        </c-dropdown>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="data[3]" [options]="options[3]" class="mt-3 mx-3" height="70" type="bar"></c-chart>
      </ng-template>
    </c-widget-stat-a>
  </c-col>
</c-row>

<!-- Second row of DevOps metrics -->
<c-row class="g-4 mt-2">
  <c-col sm="6" xl="3">
    <c-widget-stat-a
      color="success"
      [title]="'Deployment Success'"
    >
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        {{deploymentSuccess?.value || 'Loading...'}}%
        <span class="fw-normal" style="font-size: 12px;" *ngIf="deploymentSuccess?.trend !== undefined">
          ({{deploymentSuccess?.trend}}%
          <svg cIcon [name]="(deploymentSuccess?.trend || 0) > 0 ? 'cilArrowTop' : 'cilArrowBottom'" size="sm"></svg>)
        </span>
      </ng-template>
      <ng-template cTemplateId="widgetActionTemplate">
        <c-dropdown alignment="end" variant="btn-group">
          <button [caret]="false" cButton cDropdownToggle class="p-0 text-white" color="transparent" aria-label="Open dropdown">
            <svg cIcon name="cilOptions"></svg>
          </button>
          <ul cDropdownMenu>
            <li><a [routerLink]="[]" cDropdownItem>View Details</a></li>
            <li><a [routerLink]="[]" cDropdownItem>Export Data</a></li>
          </ul>
        </c-dropdown>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="deploymentSuccessData" [options]="options[0]" class="mt-3 mx-3" height="70" [type]="'line'"></c-chart>
      </ng-template>
    </c-widget-stat-a>
  </c-col>
  <c-col sm="6" xl="3">
    <c-widget-stat-a
      [title]="'Code Quality'"
      color="primary"
    >
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        <span>{{codeQuality?.value || 'Loading...'}}</span>
        <span class="fw-normal" style="font-size: 12px;" *ngIf="codeQuality?.trend !== undefined">
          ({{codeQuality?.trend}}%
          <svg cIcon [name]="(codeQuality?.trend || 0) > 0 ? 'cilArrowTop' : 'cilArrowBottom'" size="sm"></svg>)
        </span>
      </ng-template>
      <ng-template cTemplateId="widgetActionTemplate">
        <c-dropdown alignment="end" variant="btn-group">
          <button [caret]="false" cButton cDropdownToggle class="p-0 text-white" color="transparent" aria-label="Open dropdown">
            <svg cIcon name="cilOptions"></svg>
          </button>
          <ul cDropdownMenu>
            <li><a [routerLink]="[]" cDropdownItem>View Details</a></li>
            <li><a [routerLink]="[]" cDropdownItem>Export Data</a></li>
          </ul>
        </c-dropdown>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="codeQualityData" [options]="options[1]" class="mt-3 mx-3" height="70" type="line"></c-chart>
      </ng-template>
    </c-widget-stat-a>
  </c-col>
  <c-col sm="6" xl="3">
    <c-widget-stat-a
      [title]="'Test Coverage'"
      color="info"
    >
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        <span>{{testCoverage?.value || 'Loading...'}}%</span>
        <span class="fw-normal" style="font-size: 12px;" *ngIf="testCoverage?.trend !== undefined">
          ({{testCoverage?.trend}}%
          <svg cIcon [name]="(testCoverage?.trend || 0) > 0 ? 'cilArrowTop' : 'cilArrowBottom'" size="sm"></svg>)
        </span>
      </ng-template>
      <ng-template cTemplateId="widgetActionTemplate">
        <c-dropdown alignment="end" variant="btn-group">
          <button [caret]="false" cButton cDropdownToggle class="p-0 text-white" color="transparent" aria-label="Open dropdown">
            <svg cIcon name="cilOptions"></svg>
          </button>
          <ul cDropdownMenu>
            <li><a [routerLink]="[]" cDropdownItem>View Details</a></li>
            <li><a [routerLink]="[]" cDropdownItem>Export Data</a></li>
          </ul>
        </c-dropdown>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="testCoverageData" [options]="options[2]" class="mt-3" height="70" type="line"></c-chart>
      </ng-template>
    </c-widget-stat-a>
  </c-col>
  <c-col sm="6" xl="3">
    <c-widget-stat-a
      [title]="'Security Issues'"
      color="warning"
    >
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        <span>{{securityIssues?.value || 'Loading...'}}</span>
        <span class="fw-normal" style="font-size: 12px;" *ngIf="securityIssues?.trend !== undefined">
          ({{securityIssues?.trend}}%
          <svg cIcon [name]="(securityIssues?.trend || 0) < 0 ? 'cilArrowTop' : 'cilArrowBottom'" size="sm"></svg>)
        </span>
      </ng-template>
      <ng-template cTemplateId="widgetActionTemplate">
        <c-dropdown alignment="end" variant="btn-group">
          <button [caret]="false" cButton cDropdownToggle class="p-0 text-white" color="transparent" aria-label="Open dropdown">
            <svg cIcon name="cilOptions"></svg>
          </button>
          <ul cDropdownMenu>
            <li><a [routerLink]="[]" cDropdownItem>View Details</a></li>
            <li><a [routerLink]="[]" cDropdownItem>Export Data</a></li>
          </ul>
        </c-dropdown>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="securityIssuesData" [options]="options[3]" class="mt-3 mx-3" height="70" type="bar"></c-chart>
      </ng-template>
    </c-widget-stat-a>
  </c-col>
</c-row>
